 

2021年10月18日

15:55

 

 

 

 

请问为什么A和B分别复制一半文件给C会提高下载速度呢？本质上，C还是得下载全部文件。是不是因为通过并发提高了下载速度？如果是的话，并发的瓶颈是不是就是C的带宽？还有一个疑问就是如果我是那个B，那么是不是意味着C通过某种途径(我也不知道什么途径，只是猜测）连到了我的电脑，然后我把文件上传给了C。那这又是怎么实现的？

 

 

 

\@Benny

说得挺清楚的了，其实我可以再举例说明一下。P2P本质上和传统下载的分别不大，就好像你在20年前拿netants或者网际快车这些下载工具下载一样，本质上就是将文件分成不同大小的数据块，然后分别接收。而不同的是，netants和网际快车这些工具是从同一个源（即同一个下载地址）下分别接收这些数据块，而P2P则是从不同的下载此文件的用户中接收这些数据块并且你也同时为其它用户提供这些数据块。而P2P中的tracker就是用来告诉你你可以连接到哪些用户获得数据块。简单来说：

 

 

 

传统下载=一个地址为"http://www.xxxx.xxx/filename" 的地方有一堆砖块，你雇佣多个工人来搬运这些砖块

 

 

 

P2P下载=有"http://www.xxxx.xxx/filename/block1"、"http://www.xxxx.xxx/filename/block2"、"http://www.xxxx.xxx/filename/block3" 这么几个地址的地方有分成数量不同的数堆砖块，你派几组工人去这几个地方搬砖，你这里也有其它人要的砖块，你就让工人去搬砖的同时把你自己的砖块也搬过去

 

 

 

再普及一下其它概念，譬如BT里边卡种和出种。卡种就是很明显的一种和传统下载模式差不多的P2P下载，因为大家都没有足够的数据块组成一个完整的文件，所以拥有完整文件的种子发布者就是唯一的下载源，而当唯一的下载源为了控制下载者的进度让后边可以进行同时分发的人数更多的时候，发布者就会控制自己的上传速度甚至停止上传让所有下载者的进度都在差不多的范围，这样当全部人完成下载的时候就可以有大量同时上传的分发者并且完成的人数有一部分退出后也可以保证这个文件可以让后来的下载者下载完成，自己的任务也就同样完成了。这就是我们一般玩BT比较常说的卡种和出种。在这种情况下，它就和传统的下载模式是完全一样的行为了。
