 

2020年4月21日

9:35

 

1\. HashMap中的hashCode将key的高16位与低16位异或是作为一个扰动函数，让高16位也参与其中（因为一般数组长度小于2的16次方，而HashMap选择桶的策略是将hash值与数组长度-1进行与运算，那么其实只有低16位参与hash了）

2\. String的hashCode()将每一位\*31累加是因为从统计学分析的结果，31作为一个素数可以让hash值分布的比较均匀，相对产生碰撞的概率就低，此外虚拟机可以把\*31操作优化成位运算x\<\<5-x操作，加快计算。

3\. HashMap采用延迟初始化的策略，底层数组的初始化延迟到放入第一个元素的时候，(集合框架下几乎都是这样，比如ArrayList)

4\. 源码推荐优先看集合框架和并发包，无论是从价值还是应对面试都是性价比比较高的
